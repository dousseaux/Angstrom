<head>
    <title>Angstrom</title>
    <link target="_blank" href='style/fonts/Poiret_One.css' rel="stylesheet" />
    <link target="_blank" href='style/fonts/Noto_Sans.css' rel="stylesheet" />
    <link target="_blank" href='style/material-icons/material-icons.css' rel="stylesheet" />
    <link target="_blank" href='style/simulate.css' rel='stylesheet' type="text/css">
</head>

<style>
    #logo {
        width: 350px;
        position: relative;
        margin: auto;
        text-align: center;
        display: block;
    }
</style>

<body>
    <div id="submission">
        <form id="form1" action="application.html" method="get" target="_blank">
            <input id="createpsf" type="hidden" name="createpsf" value="false">
            <input id="pdbfile" type="hidden" name="pdb">
            <input id="psffile" type="hidden" name="psf">
            <input id="prmfile0" type="hidden" name="prm0">
            <input id="prmfile1" type="hidden" name="prm1">
            <input id="prmfile2" type="hidden" name="prm2">
            <input id="information" type="hidden" name="information" value="files/information/default.html">

            <input id="timeStep" type="hidden" name="timeStep" value="1">
            <input id="maxSteps" type="hidden" name="maxSteps" value="1000000">
            <input id="temperature" type="hidden" name="temperature" value="10">
            <input id="thermostat" type="hidden" name="thermostat" value="0">
            <input id="energyFrequency" type="hidden" name="energyFrequency" value="10">
            <input id="thermostatFrequency" type="hidden" name="thermostatFrequency" value="2">
            <input id="renderFrequency" type="hidden" name="renderFrequency" value="3">
            <input id="mouseMode" type="hidden" name="mouseMode" value="select">
            <input id="drawingMode" type="hidden" name="drawingMode" value="bas">
            <input id="colorMode" type="hidden" name="colorMode" value="atoms">
            <input id="atomResolution" type="hidden" name="atomResolution" value="10">
            <input id="bondResolution" type="hidden" name="bondResolution" value="10">
            <input id="worldSize" type="hidden" name="worldSize" value="auto">
            <input id="exclude13" type="hidden" name="exclude13" value="1">
            <input id="epsolonR" type="hidden" name="epsolonR" value="1">
            <input id="boostFactor" type="hidden" name="boostFactor" value="3">
            <input id="martine" type="hidden" name="martine" value="false">
            <input id="enableAdd" type="hidden" name="enableAdd" value="false">
            <input id="visualize" type="hidden" name="visualize" value="false">

            <br>PDB.org URL/ID:<input id="pdburl" type="text" name="url">
        </form>
    </div>

    <a href="desktop/index.html"><img id="logo" src="images/logo.png"></a>

    <div id="loadFilesForm">
        <img src="images/logo.png"><br><br>

        <button id="loadPDB" class="loadFileButton">* CHOOSE PDB</button>
        <button id="loadPSF" class="loadFileButton">* CHOOSE PSF</button><br><br>

        <button id="loadPRM0" class="loadFileButton">* CHOOSE PARAMETER 1</button>
        <button id="loadPRM1" class="loadFileButton">CHOOSE PARAMETER 2</button><br><br>

        <button id="loadPRM2" class="loadFileButton">CHOOSE PARAMETER 3</button>
        <button id="cancel" class="controlButton">CANCEL</button>
        <button id="load" class="controlButton">LOAD</button>

        <br><br>*required
    </div>

    <div id="container">
        <!-- ######################## EXAMPLE HERE  #########################

             In order to create a box link like this just copy the following
             div and edit where especified. Then go to the javascript code in the
             bottom of the file. There you will create a new onclick function for
             the created div ID and set the simulation configurations there.
             Follow the comments there.                                     -->
        <div class="item" id="someID">
            <img class="itemImg" src="images/water.png">
            <h2>NAME HERE</h2>
            <div class="information">
                <br>
                <p class="itemDescription">SOME INFORMATION HERE (SEE HTML FOR INSTRUCTIONS)</p>
            </div>
            <p class="itemRecommendation">SIZE HERE</p>
            <a class="itemLink" target="_blank" href="">SOME LINK HERE</a>
        </div>

        <!-- ####################### END OF EXAMPLE ######################## -->


        <div class="item">
            <i id="loadFiles" class="material-icons itemImg">file_upload</i>
            <h2>LOAD YOUR FILES</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    You need:
                    <ul>
                        <li><a target="_blank" href="http://www.rcsb.org/pdb/static.do?p=file_formats/index.jsp#pdb">Protein Data Bank file</a></li>
                        <li><a target="_blank" href="http://www.ks.uiuc.edu/Training/Tutorials/namd/namd-tutorial-win-html/node24.html">Protein Structure file</a></li>
                        <li><a target="_blank" href="http://www.ks.uiuc.edu/Training/Tutorials/namd/namd-tutorial-win-html/node26.html">Force field parameter file</a></li>
                    </ul>
                </p>
            </div>
            <p class="itemRecommendation"></p>
            <a class="itemLink" target="_blank" href=""></a>
        </div>

        <div class="item">
            <img id="buildCharmm" class="itemImg" src="images/buildCharmm.png">
            <h2>Build your own!</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    Build your own simulation using preset molecules made with Charmm force fields.
                </p>
            </div>
            <p class="itemRecommendation"></p>
            <a class="itemLink" target="_blank" href="http://mackerell.umaryland.edu/charmm_ff.shtml">CHARMM FORCE FIELD</a>
        </div>

        <div class="item">
            <img id="methane" class="itemImg" src="images/methane.png">
            <h2>Methane</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    How do we get so warm in the winter? Methane is the major component of natural gas used for heating homes<br><br> Incial temperature: 200 K. Thermostat off.
                </p>
            </div>
            <p class="itemRecommendation">1 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://mackerell.umaryland.edu/charmm_ff.shtml">CHARMM FORCE FIELD</a>
        </div>

        <div class="item">
            <img id="water" class="itemImg" src="images/water.png">
            <h2>Water</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    Take a look on the most famous molecule of the earth. H 2 0.<br><br> Incial temperature: 200 K.<br>Thermostat off.
                </p>
            </div>
            <p class="itemRecommendation">1 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://mackerell.umaryland.edu/charmm_ff.shtml">CHARMM FORCE FIELD</a>
        </div>

        <div class="item">
            <img id="water_box" class="itemImg" src="images/water_box.png">
            <h2>Water Box</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    Want to make some ice? What about some vapor? You can. Change the box size and temperature to make it happen. It may take some time.<br><br> Incial temperature: 50 K. Thermostat off.<br>
                </p>
            </div>
            <p class="itemRecommendation">779 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://mackerell.umaryland.edu/charmm_ff.shtml">CHARMM FORCE FIELD</a>
        </div>

        <div class="item">
            <img id="water_and_atoms" class="itemImg" src="images/water_atoms.png">
            <h2>Water and Atoms</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    A box full of water with chloride, sodium and methane mixed.<br><br> Incial temperature: 300 K.<br>Thermostat off.
                </p>
            </div>
            <p class="itemRecommendation">304 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://mackerell.umaryland.edu/charmm_ff.shtml">CHARMM FORCE FIELD</a>
        </div>

        <div class="item">
            <img id="buildMartine" class="itemImg" src="images/buildMartine.png">
            <h2>Build your own! (Coarse Grain)</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    Build your own coarse grain simulation using preset molecules made with Martine force fields.
                </p>
            </div>
            <p class="itemRecommendation"></p>
            <a class="itemLink" target="_blank" href="http://www.ks.uiuc.edu/Research/CG/">COARSE GRAIN</a>
        </div>

        <div class="item">
            <img  id="octane_water" class="itemImg" src="images/water_octane.png">
            <h2>Octane-Water System</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    Why water and gasoline do not mix? See octane, a component of gasoline, not mixing with water<br><br> Incial temperature: 300 K.<br>Thermostat off.
                </p>
            </div>
            <p class="itemRecommendation">100 PARTICLES 75 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://www.ks.uiuc.edu/Research/CG/">COARSE GRAIN</a>
        </div>

        <div class="item">
            <img id="two_lipids" class="itemImg" src="images/two_lipids.png">
            <h2>Two Lipids</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    See a pair of lipids interacting with each other inside of a small box!<br><br> Incial temperature: 300 K. <br> Thermostat off.
                </p>
            </div>
            <p class="itemRecommendation">26 PARTICLES 2 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://www.ks.uiuc.edu/Research/CG/">COARSE GRAIN</a>
        </div>

        <div class="item">
            <img  id="lipids_membrane" class="itemImg" src="images/lipid_bilayer.png">
            <h2>Lipids Membrane</h2>
            <div class="information">
                <br>
                <p class="itemDescription">
                    See a membrane full of lipids surrounded by several water molecules. <br><br> Incial temperature: 300 K. <br> Thermostat off.
                </p>
            </div>
            <p class="itemRecommendation">1522 PARTICLES 922 MOLECULES</p>
            <a class="itemLink" target="_blank" href="http://www.ks.uiuc.edu/Research/CG/">COARSE GRAIN</a>
        </div>

        <script>
            /* ######################### IMPORTANT #############################
             * EDIT THE .VALUE PROPERTY OF THE FOLLOWING VARIABLES AND SUBMIT THE
             * FORM TO MAKE THE SET CONFIGURATIONS. ALL THE VALUE MUST BE INSIDE OF
             * A STRING. TO CHANGE THE DEFAULT VALUES GO TO THE TOP OF THE FILE  */

            const {
                remote
            } = require('electron');

            var pdb = document.getElementById("pdbfile"); // Required
            var psf = document.getElementById("psffile"); // Required
            var prm0 = document.getElementById("prmfile0"); // Required
            var prm1 = document.getElementById("prmfile1"); // Optional
            var prm2 = document.getElementById("prmfile2"); // Optional

            var form = document.getElementById("form1");

            // Number in ns. Default = 1
            var timeStep = document.getElementById("timeStep");

            // Integer. Default = 1000000
            var maxSteps = document.getElementById("maxSteps");

            // Number. Default = 0
            var temperature = document.getElementById("temperature");

            // Boolean (1 or 0). Default = 0 > off
            var thermostat = document.getElementById("thermostat");

            // Integer (do each n steps). Default = 10
            var energyFrequency = document.getElementById("energyFrequency");

            // Integer (do each n steps). Default = 2
            var thermostatFrequency = document.getElementById("thermostatFrequency");

            // Integer (do each n steps). Default = 15
            var renderFrequency = document.getElementById("renderFrequency");

            /* Values:
             *  -select: select atoms to see information.
             *  -move: grab molecules and move.
             * Default = select */
            var mouseMode = document.getElementById("mouseMode");

            /* Values:
             *  - bas: Ball and sticks. Particles are sized to a scale of the vdw radius and bonds are displayed.
             *  - vdw: Bonds are not displayed. Particles are sized according to their vdw radius.
             *  - bonds: Only bonds are displayed.
             *  - licorice: Bonds and spheres a sized to the same radius.
             * Default: bas */
            var drawingMode = document.getElementById("drawingMode");

            /* Values:
             *   - atoms: color by atom type.
             *   - residuals: color by residuals type.
             *   - single: a single color for all.
             *   - selected: colors only the selected atoms.
             * Default: atoms */
            var colorMode = document.getElementById("colorMode");

            // Integer (maximum 27). Default = 10
            var atomResolution = document.getElementById("atomResolution");

            // Integer (maximum 50). Default = 10
            var bondResolution = document.getElementById("bondResolution");

            /* Values:
             *   - auto
             *   - xyz vector of type: number, number, number
             *   - xyz vector of type: number number number
             * Default: auto */
            var worldSize = document.getElementById("worldSize");

            // Boolean (1 or 0). Default = 1 >> on
            var exclude13 = document.getElementById("exclude13");

            // Number. Default = 1
            var epsolonR = document.getElementById("epsolonR");

            /* Number. Specify how many times animate() will be fired.
             * Greater the value, faster the simulation. Depends on the
             * computer and size of the simulation. Default: 1*/
            var boostFactor = document.getElementById("boostFactor");

            /* Boolean ("true" or "false"). Specify if it is a Martine force
             * field simulation. Default: false*/
            var martine = document.getElementById("martine");

            /* Boolean ("true" or "false"). Specify if it is a preset model
             * or a empty one with option to add molecules. Default: false*/
            var enableAdd = document.getElementById("enableAdd");

            /* ####################### EXAMPLE ############################## */
            document.getElementById("someID").onclick = function() {
                    pdb.value = "files/pdbs/ubq.pdb";
                    psf.value = "files/psfs/ubq.psf";
                    prm0.value = "files/parameters/par_all27_prot_lipid.prm";
                    thermostat.value = "1";
                    thermostatFrequency = "10";
                    temperature.value = "100";
                    form.submit();
                }
                /* #################### END OF EXAMPLE ######################### */

            /* DEFAULTS
            timeStep.value = "1";
            maxSteps.value = "1000000";
            temperature.value = "0";
            thermostat.value = "0";
            energyFrequency.value = "10";
            thermostatFrequency.value = "2";
            renderFrequency.value = "3";
            mouseMode.value = "select";
            drawingMode.value = "bas";
            colorMode.value = "atoms";
            atomResolution.value = "10";
            bondResolution.value = "10";
            worldSize.value = "auto"
            exclude13.value = "1";
            epsolonR.value = "1";
            boostFactor.value = "1";
            martine.value = "false";
            enableAdd.value = "false";
            */

            /*
            document.getElementById("graphene").onclick = function(){
                pdb.value = "files/pdbs/graphene.pdb";
                psf.value = "files/psfs/graphene.psf";
                prm0.value = "files/parameters/par_all36_cgenff.prm";
                prm1.value = "files/parameters/par_all36_prot.prm";
                prm2.value = "files/parameters/toppar_water_ions_cgenff.str";
                form.submit();
            }
            */

            window.onpageshow = function() {
                timeStep.value = "1";
                maxSteps.value = "1000000";
                temperature.value = "0";
                thermostat.value = "0";
                energyFrequency.value = "10";
                thermostatFrequency.value = "2";
                renderFrequency.value = "3";
                mouseMode.value = "select";
                drawingMode.value = "bas";
                colorMode.value = "atoms";
                atomResolution.value = "10";
                bondResolution.value = "10";
                worldSize.value = "auto"
                exclude13.value = "1";
                epsolonR.value = "1";
                boostFactor.value = "1";
                martine.value = "false";
                enableAdd.value = "false";
            }

            window.onfocus = window.onpageshow;

            document.getElementById("buildCharmm").onclick = function() {
                temperature.value = "100";
                thermostat.value = "1";
                atomResolution.value = "25";
                bondResolution.value = "25";
                worldSize.value = "auto"
                enableAdd.value = "true";
                form.submit();
            }

            document.getElementById("buildMartine").onclick = function() {
                timeStep.value = "30";
                temperature.value = "100";
                thermostat.value = "1";
                atomResolution.value = "20";
                bondResolution.value = "20";
                worldSize.value = "25 25 25";
                drawingMode.value = "licorice";
                exclude13.value = "0";
                epsolonR.value = "15";
                martine.value = "true";
                enableAdd.value = "true";
                form.submit();
            }

            document.getElementById("two_lipids").onclick = function() {
                pdb.value = "files/pdbs/cg_popc_two.pdb";
                psf.value = "files/psfs/cg_popc_two.psf";
                prm0.value = "files/parameters/martini_popc.prm";
                timeStep.value = "30";
                temperature.value = "300";
                atomResolution.value = "25";
                bondResolution.value = "25";
                drawingMode.value = "licorice";
                exclude13.value = "0";
                epsolonR.value = "15";
                martine.value = "true";
                form.submit();
            }

            document.getElementById("lipids_membrane").onclick = function() {
                pdb.value = "files/pdbs/lipidsMembrane.pdb";
                psf.value = "files/psfs/lipidsMembrane.psf";
                prm0.value = "files/parameters/martini_oco_popc.prm";
                timeStep.value = "30";
                temperature.value = "300";
                drawingMode.value = "licorice";
                exclude13.value = "0";
                epsolonR.value = "15";
                martine.value = "true";
                form.submit();
            }

            document.getElementById("water_and_atoms").onclick = function() {
                pdb.value = "files/pdbs/water_and_atoms.pdb";
                psf.value = "files/psfs/water_and_atoms.psf";
                prm0.value = "files/parameters/par_all36_cgenff.prm";
                prm1.value = "files/parameters/toppar_water_ions_cgenff.str";
                temperature.value = "300";
                thermostat.value = "1";
                form.submit();
            }

            document.getElementById("water_box").onclick = function() {
                pdb.value = "files/pdbs/water_box.pdb";
                psf.value = "files/psfs/water_box.psf";
                prm1.value = "files/parameters/toppar_water_ions_cgenff.str";
                temperature.value = "50";
                thermostat.value = "1";
                form.submit();
            }

            document.getElementById("methane").onclick = function() {
                pdb.value = "files/pdbs/methane.pdb";
                psf.value = "files/psfs/methane.psf";
                prm0.value = "files/parameters/par_all36_cgenff.prm";
                atomResolution.value = "25";
                bondResolution.value = "25";
                temperature.value = "200";
                form.submit();
            }

            document.getElementById("water").onclick = function() {
                pdb.value = "files/pdbs/water.pdb";
                psf.value = "files/psfs/water.psf";
                prm0.value = "files/parameters/toppar_water_ions_cgenff.str";
                atomResolution.value = "25";
                bondResolution.value = "25";
                temperature.value = "200";
                form.submit();
            }

            document.getElementById("octane_water").onclick = function() {
                pdb.value = "files/pdbs/cg_octane-wat.pdb";
                psf.value = "files/psfs/cg_octane-wat.psf";
                prm0.value = "files/parameters/martini_oco_popc.prm";
                timeStep.value = "30";
                temperature.value = "300";
                drawingMode.value = "licorice";
                atomResolution.value = "15";
                bondResolution.value = "15";
                exclude13.value = "0";
                epsolonR.value = "15";
                martine.value = "true";
                boostFactor.value = "5";
                form.submit();
            }

            document.getElementById("loadFiles").onclick = function() {
                document.getElementById("logo").style.display = "none";
                document.getElementById("container").style.display = "none";
                document.getElementById("loadFilesForm").style.display = "block";
            }

            document.getElementById("loadPDB").onclick = function() {
                pdb.value = remote.dialog.showOpenDialog(remote.getCurrentWindow(), {
                    properties: ['openFile'],
                    filters: [{
                        name: 'Protein Data Bank',
                        extensions: ['pdb']
                    }]
                });
            }

            document.getElementById("loadPSF").onclick = function() {
                psf.value = remote.dialog.showOpenDialog(remote.getCurrentWindow(), {
                    properties: ['openFile'],
                    filters: [{
                        name: 'Protein Structure File',
                        extensions: ['psf']
                    }]
                });
            }

            document.getElementById("loadPRM0").onclick = function() {
                prm0.value = remote.dialog.showOpenDialog(remote.getCurrentWindow(), {
                    properties: ['openFile'],
                    filters: [{
                        name: 'PARAMETER FILE',
                        extensions: ['prm', 'str']
                    }]
                });
            }

            document.getElementById("loadPRM1").onclick = function() {
                prm1.value = remote.dialog.showOpenDialog(remote.getCurrentWindow(), {
                    properties: ['openFile'],
                    filters: [{
                        name: 'PARAMETER FILE',
                        extensions: ['prm', 'str']
                    }]
                });
            }

            document.getElementById("loadPRM2").onclick = function() {
                prm2.value = remote.dialog.showOpenDialog(remote.getCurrentWindow(), {
                    properties: ['openFile'],
                    filters: [{
                        name: 'PARAMETER FILE',
                        extensions: ['prm', 'str']
                    }]
                });
            }

            document.getElementById("load").onclick = function() {
                atomResolution.value = "10";
                bondResolution.value = "10";
                temperature.value = "273";
                form.submit();
            }

            document.getElementById("cancel").onclick = function() {
                pdb.value = "";
                psf.value = "";
                prm0.value = "";
                prm1.value = "";
                prm2.value = "";
                document.getElementById("logo").style.display = "block";
                document.getElementById("container").style.display = "block";
                document.getElementById("loadFilesForm").style.display = "none";
            }

            window.onload = function() {
                document.body.style.visibility = 'visible';
            }
        </script>

</body>
